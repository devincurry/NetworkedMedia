<html>

<head>
		<link rel="stylesheet" href="style.css" type="text/css">

	<title>JSON Example</title>

	<script type="text/javascript" src="p5.js"></script>
	<script type="text/JavaScript">



var theObject;
var bgHue;
	
	// console.log("Temperature is: " + theObject.main.temp);

	function setup() {
		colorMode(HSB, 100, 100, 100);
		createCanvas(displayWidth,displayHeight);
		bgHue = 0;
		background(bgHue,0,100);
		fill(0,0,0);
		textFont("Helvetica");
		textSize(64);
		//textAlign(CENTER);
		//text("Hello world", 100, 100);

		 loadJSON("http://api.openweathermap.org/data/2.5/weather?id=5128581&units=imperial",jsonLoaded);
		// text("Temperature is: "  + theObject.main.temp, 100, 100);
	}

	function draw() {
		fill(0,0,0);
		textFont("Helvetica");
		textSize(64);
		textAlign(LEFT);
		//text("Hello world", 100, 100);
		//fill(0,0,100);
				//noStroke();
		//textFont("Helvetica");
		//textSize(64);
		text("Hello world", 100, 100);
		text("Temperature is: "  + theObject.main.temp, 100, 100);

		if (theObject.main.temp < 75 || theObject.main.temp > 60){
			background(20,100,100);
		}
	}


	function jsonLoaded(theObject) {
		console.log("Temperature is: " + theObject.main.temp);  
		text("Temperature is: "  + theObject.main.temp, 100, 300);
	}



	</script>
		</br>
		<form>
			 <input type="text" name="textfield" value="Enter a city" />
		 <input type="submit" name="submitbutton" value="Submit" />
	</form>
</head>

</html>